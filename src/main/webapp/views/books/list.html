<h3>Books <button type="button" class="btn btn-primary pull-right" ng-click="openModal()"><i class="icon-plus-sign icon-white"></i> Add New</button> </h3>
</br>

<loading></loading>

<table class="table table-striped">
    <tr>
        <td><h4>Title</h4></td>
        <td><h4>Author</h4></td>
        <td> <div class="pull-right"><h4>Operation</h4></div></td>
    </tr>
    <tr ng-repeat="book in books">
        <td>{{book.title}}</td>
        <td>{{book.author.firstName}} {{book.author.lastName}}</td>
        <td>
            <div class="pull-right">
                <button class="btn btn-info" ng-click="editBook(book)">
                    <i class="icon-pencil icon-white"></i> Edit
                </button>
                <button class="btn btn-danger" ng-click="deleteBook(book)">
                    <i class="icon-trash icon-white"></i> Delete
                </button>
            </div>
        </td>
    </tr>
</table>

<modal-dialog show='modalPanel' width='600px' height=40%'>
    <form novalidate class="form-horizontal" >

        <h4 ng-hide="editMode">New Book</h4>
        <h4 ng-show="editMode">Update Book</h4>

        <div class="control-group">
            <label class="control-label" for="title">Title</label>

            <div class="controls">
                <input type="text" ng-model="book.title" id="title"/>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="firstName">Author Name</label>

            <div class="controls">
                <input type="text" ng-model="book.author.firstName" id="firstName"/>
            </div>
        </div>
        <div class="control-group">
            <label class="control-label" for="lastName">Surname</label>

            <div class="controls">
                <input type="text" ng-model="book.author.lastName" id="lastName"/>
            </div>
        </div>
        <div class="control-group" ng-hide="editMode">
            <div class="controls">
                <div id="captcha" />
            </div>
        </div>
        <button type="button" class="btn btn-primary" ng-show="editMode" ng-click="updateBook(book)">Update</button>
    </form>
</modal-dialog>